{% for block in section.blocks %}
{% assign useBlocks = block.settings.use_blocks %}
{% if useBlocks contains collection.title %}
<div class="banner__background" style="background-image: url('{{ block.settings.background | img_url: "master" }}');">
  {% if block.settings.background_color %}<div class="banner__overlay" style="background: {{block.settings.background_color}};" ></div>{% endif %}
  <div class="container banner" style="min-height:{{block.settings.min_height}}px;align-items:{{ block.settings.v_pos }};justify-content:{{ block.settings.h_pos }};">
    <div class="banner__content" style="padding:{{block.settings.padding_tb}}px {{block.settings.padding_lr}}px;background:{{block.settings.content_color}};max-width:{{ block.settings.content_width }}%">
      {% if block.settings.sub_title != blank %}<h4 class="banner__sub-title" style="color:{{block.settings.font_color_sub}};text-align:{{block.settings.sub_pos}}">{{ block.settings.sub_title }}</h4>{% endif %}
      {% if block.settings.title != blank %}<h1 class="banner__title" style="color:{{block.settings.font_color_title}};text-align:{{block.settings.title_pos}}">{{ block.settings.title }}</h1>{% endif %}
      {% if block.settings.text != blank %}<div class="banner__text" style="color:{{block.settings.font_color_text}};text-align:{{block.settings.text_pos}}">{{ block.settings.text }}</div>{% endif %}
    </div>
  </div>
</div>

{% endif %}
{% endfor %}

<style>
  .banner__background {
    background-size: cover;
    background-position: center center;
    margin-bottom: 20px;
    position: relative;
  }
  .banner {
    display: flex;
    position: relative;
  }
  .banner__content {
/*     display: flex; */
  }
  .banner__content .banner__sub-title {
    font-weight: 700;
    font-family: Whitney-Semibold-Bas;
    font-size: 22px;
    line-height: 1;
  }
  .banner__content .banner__title {
    font-size: 60px;
    line-height: 1.2;
  }
  .banner__content .banner__text {
    font-size: 18px;
  }
  .banner__overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
  }
  
  @media only screen and (max-width: 768px){
    .banner__content .banner__title {
      font-size: 40px;
    }
  }
</style>

{% schema %}
  {
    "name": "Collection banners",
    "settings": [
    ],
    "blocks": [
      {
      "type": "image",
      "name": "Banner",
      "settings":[
          {
            "type": "header",
            "content": "Where to show",
            "info": "Write collection title where you want this block to show. Separate titles with comma and space."
          },
          {
            "type": "textarea",
            "id": "use_blocks",
            "label": "Collection titles"
          },
          {
            "type": "header",
            "content": "Container"
          },
          {
            "type": "image_picker",
            "id": "background",
            "label": "Background image"
          },
          {
            "type": "color_background",
            "id": "background_color",
            "label": "Color overlay"
          },
          {
            "type": "range",
            "id": "min_height",
            "min": 20,
            "max": 1000,
            "step": 10,
            "unit": "px",
            "label": "Minimum Height",
            "default": 280
          },
          {
            "type": "header",
            "content": "Content Text/Position"
          },
          {
            "type": "text",
            "id": "sub_title",
            "label": "Sub-title"
          },
          {
            "type": "select",
            "id": "sub_pos",
            "label": "Sub-title Alignment",
            "options": [
              {
                "value": "left",
                "label": "Left"
              },
              {
                "value": "center",
                "label": "Center"
              },
              {
                "value": "right",
                "label": "Right"
              }
            ],
            "default": "center"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title"
          },
          {
            "type": "select",
            "id": "title_pos",
            "label": "Title Alignment",
            "options": [
              {
                "value": "left",
                "label": "Left"
              },
              {
                "value": "center",
                "label": "Center"
              },
              {
                "value": "right",
                "label": "Right"
              }
            ],
            "default": "center"
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "Description"
          },
          {
            "type": "select",
            "id": "text_pos",
            "label": "Description Alignment",
            "options": [
              {
                "value": "left",
                "label": "Left"
              },
              {
                "value": "center",
                "label": "Center"
              },
              {
                "value": "right",
                "label": "Right"
              }
            ],
            "default": "center"
          },
          {
            "type": "header",
            "content": "Content space Size/Position"
          },
          {
            "type": "range",
            "id": "content_width",
            "min": 10,
            "max": 100,
            "step": 1,
            "unit": "%",
            "label": "Content maximum width",
            "default": 50
          },
          {
            "type": "range",
            "id": "padding_tb",
            "min": 0,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Padding top/bottom",
            "default": 10
          },
          {
            "type": "range",
            "id": "padding_lr",
            "min": 0,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Padding left/right",
            "default": 10
          },
          {
            "type": "select",
            "id": "v_pos",
            "label": "Vertical Alignment",
            "options": [
              {
                "value": "flex-start",
                "label": "Top"
              },
              {
                "value": "center",
                "label": "Middle"
              },
              {
                "value": "flex-end",
                "label": "Bottom"
              }
            ],
            "default": "center"
          },
          {
            "type": "select",
            "id": "h_pos",
            "label": "Horizontal Alignment",
            "options": [
              {
                "value": "flex-start",
                "label": "Left"
              },
              {
                "value": "center",
                "label": "Center"
              },
              {
                "value": "flex-end",
                "label": "Right"
              }
            ],
            "default": "flex-start"
          },
          {
            "type": "header",
            "content": "Content Colors"
          },
          {
            "type": "color_background",
            "id": "content_color",
            "label": "Background color"
          },
          {
            "type": "color",
            "id": "font_color_sub",
            "label": "Sub-title"
          },
          {
            "type": "color",
            "id": "font_color_title",
            "label": "Title"
          },
          {
            "type": "color",
            "id": "font_color_text",
            "label": "Text"
          }
        ]
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}